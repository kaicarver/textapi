<!DOCTYPE html>
<html>
<head>
  <title>Kai's Tiny Text-posting API</title>
  <base href="https://powerful-anchorage-09770.herokuapp.com/" target="output">
  <style>
    table {
      width: 100%;
    }

    td {
      vertical-align: top;
    }

    iframe {
      height: 800px;
      width: 500px;
      left: 0;
      position: relative;
      top: 0;
      resize: both;
    }

    form {
      margin: 0;
      margin-bottom: 10px;
      padding: 0;
    }

    h1 {
      font-size: 1.5em;
    }

    input {
      width: 20em;
    }

    .activity {
      font-size: 1.5rem;
    }

    textarea {
      width: 20em;
      height: 5em;
    }
  </style>
  <script>
    function editButton(editButton) {
      let activityButton = editButton.previousElementSibling;
      let hiddenInput = activityButton.previousElementSibling;
      let activity = prompt('Edit activity:', hiddenInput.value);
      if (activity) {
        activityButton.innerText = activity;
        hiddenInput.value = activity;
      }
    }
    function setup() {
      alert('setup NYI')
    }
  </script>
</head>

<body onload="setup()">
  <table>
    <tr>
      <td>
        <h1>Kai's Tiny Text-posting API</h1>
        <p>
          <a href="/gettext">gettext
            Shows all the text posted so far.</a>
        </p>
        <form action="/posttext" method="POST">
          <input type="hidden" name="text" value="10 push-ups">
          <button class="activity" type="submit">10 push-ups</button>
          <button type="button" title="Edit" onclick="editButton(this)">✎</button>
        </form>
        <form action="/posttext" method="POST">
          <input type="hidden" name="text" value="10 sit-ups">
          <button class="activity" type="submit">10 sit-ups</button>
          <button type="button" title="Edit" onclick="editButton(this)">✎</button>
        </form>
        <form action="/posttext" method="POST">
          <input type="hidden" value="10 squats" name="text">
          <button class="activity" type="submit">10 squats</button>
          <button type="button" title="Edit" onclick="editButton(this)">✎</button>
        </form>
        <form action="/posttext" method="POST">
          <textarea name="text" placeholder="Text area">Today is going to be a great day.</textarea>
          <button type="submit">posttext</button>
        </form>
        <form action="/posttext" method="POST">
          <input type="hidden" value="25 push-ups 25 sit ups 25 squats" name="text">
          <button class="activity" type="submit">25 push-ups 25 sit ups 25 squats</button>
          <button type="button" title="Edit" onclick="editButton(this)">✎</button>
        </form>
        <form action="/posttext" method="POST">
          <input type="hidden" value="10 bench dips" name="text">
          <button class="activity" type="submit">10 bench dips</button>
          <button type="button" title="Edit" onclick="editButton(this)">✎</button>
        </form>
        <form action="/posttext" method="POST">
          <input type="text" name="text" value="10 practice pullups">
          <button type="submit">posttext</button>
        </form>
        <form action="/posttext" method="POST">
          <input type="text" name="text" value="2 salutes to the sun">
          <button type="submit">posttext</button>
        </form>
        <form action="/posttext" method="POST">
          <input type="text" name="text" value="10 reverse lunges">
          <button type="submit">posttext</button>
        </form>
        <form action="/posttext" method="POST">
          <input type="text" name="text" value="10 jumping jacks">
          <button type="submit">posttext</button>
        </form>
        <form action="/posttext" method="POST">
          <input type="text" name="text" value="5 burpees">
          <button type="submit">posttext</button>
        </form>
        <form action="/posttext" method="POST">
          <input type="hidden" value="10 bench dips" name="text">
          <button class="activity" type="submit">10 bench dips</button>
          <button type="button" title="Edit" onclick="editButton(this)">✎</button>
        </form>
        <form action="/posttext" method="POST">
          <input type="hidden" value="go to sleep" name="text">
          <button class="activity" type="submit">go to sleep</button>
        </form>
        <form action="/posttext" method="POST">
          <input type="hidden" value="wake up" name="text">
          <button class="activity" type="submit">wake up</button>
        </form>
      </td>
      <td>
        <div class="iframe-container">
          <iframe name="output"></iframe>
        </div>
      </td>
    </tr>
  </table>
  <p>
    So far the API is very simple, and very experimental. You can post a bit of text with <code>posttext</code>, which
    takes a single parameter
    called... <code>text</code>, and you can retrieve all the bits of text posted so far with a GET from
    <code>gettext</code> (probably will use a single <code>text</code> endpoint for both in the final version).
    Pre-filled out text can be handy as a shortcut to post activities in a certain conventional, easy-to-mine
    format.

  </p>
  <p>
    <a href="/">Home</a>
  </p>
</body>

</html>
